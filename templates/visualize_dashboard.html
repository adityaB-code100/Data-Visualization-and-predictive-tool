{% extends "layout.html" %}
{% block content %}
<body class="min-h-screen bg-gradient-to-br from-gray-900 via-black to-gray-950 text-gray-100 font-inter">

  <!-- Fixed Header -->
  <header class="fixed top-0 left-0 w-full bg-gray-900/70 backdrop-blur-md border-b border-gray-800 z-50">
    <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
      <h1 class="text-xl sm:text-2xl font-bold bg-gradient-to-r from-cyan-400 to-blue-500 bg-clip-text text-transparent">
        CSV Visualizer
      </h1>
      <a href="{{ url_for('index') }}"
        class="px-5 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-400 hover:to-cyan-400 text-white font-medium shadow-md hover:shadow-cyan-500/30 transition-transform transform hover:-translate-y-1">
        üè† Home
      </a>
    </div>
  </header>

  <!-- Main Section -->
  <main class="flex flex-col items-center justify-center min-h-screen px-6 pt-32 pb-16 text-center">
    <h2 class="text-3xl sm:text-4xl font-extrabold mb-4 bg-gradient-to-r from-cyan-400 to-green-400 bg-clip-text text-transparent animate-fade-in">
      Upload and Visualize Your CSV
    </h2>
    <p class="text-gray-400 max-w-xl mb-10 animate-fade-in">
      Easily explore your datasets and visualize insights instantly.
    </p>

    <form id="uploadForm" action="/upload" method="POST" enctype="multipart/form-data"
      class="bg-gray-800/60 border border-gray-700 rounded-2xl p-8 w-full max-w-lg flex flex-col gap-6 shadow-lg hover:shadow-cyan-500/20 transition-all animate-slide-up">

      <div>
        <label for="file" class="block mb-2 text-gray-300 font-medium">Select CSV File:</label>
        <input type="file" name="file" id="file"
          class="block w-full text-sm text-gray-300 bg-gray-900/70 border border-gray-700 rounded-lg cursor-pointer p-2 focus:ring-2 focus:ring-cyan-500 transition-all">
      </div>

      <button type="submit"
        class="w-full py-3 bg-gradient-to-r from-cyan-500 to-blue-600 hover:from-cyan-400 hover:to-blue-500 text-white font-semibold rounded-lg shadow-lg hover:shadow-cyan-500/30 transition-transform transform hover:-translate-y-1">
        üìä Visualize Data
      </button>
    </form>

    <p id="loading" class="hidden mt-6 text-cyan-400 text-lg animate-pulse">‚è≥ Uploading & Processing...</p>
  </main>

  <!-- Example Visualization Section -->
  <section class="px-6 py-16 bg-gray-900/60 border-t border-gray-800">
    <div class="max-w-6xl mx-auto text-center">
      <h3 class="text-2xl sm:text-3xl font-bold mb-6 bg-gradient-to-r from-green-400 to-cyan-400 bg-clip-text text-transparent">
        Example Visualization
      </h3>
      <img src="{{ url_for('static', filename='images/pie_chart.png') }}"
        alt="Data Visualization Example"
        class="w-full max-w-4xl mx-auto rounded-2xl shadow-lg border border-gray-700 hover:scale-105 transition-transform duration-500">
    </div>
  </section>

  <!-- Footer -->

  <!-- Animations -->
  <style>
    @keyframes fade-in {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes slide-up {
      from { opacity: 0; transform: translateY(40px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in { animation: fade-in 1s ease-out forwards; }
    .animate-slide-up { animation: slide-up 1.2s ease-out forwards; }
  </style>

  <!-- Upload Script -->
  <script>
    document.getElementById("uploadForm").addEventListener("submit", function () {
      document.getElementById("loading").classList.remove("hidden");
    });
  </script>

</body>
{% endblock %}
